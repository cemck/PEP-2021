<ion-header>

  <ion-toolbar color="light">
    <ion-buttons slot="start">
      <ion-button (click)="close()" *ngIf="level == 0">
        <ion-icon slot="icon-only" name="close"></ion-icon>
      </ion-button>
      <ion-back-button *ngIf="level > 0"></ion-back-button>
    </ion-buttons>
    <ion-title>Scan bestätigen</ion-title>
  </ion-toolbar>

  <ion-toolbar color="light">
    <ion-segment [(ngModel)]="this.segment" (ionChange)="segmentChanged($event)" value="chair">
      <ion-segment-button value="chair">Freischwinger</ion-segment-button>
      <ion-segment-button value="scan">Bodyscan</ion-segment-button>
    </ion-segment>
  </ion-toolbar>

</ion-header>


<ion-content>
  <ion-grid style="height: 100%;">
    <ion-col style="height: 100%;">

      <div *ngIf="this.segment === 'chair'">
        <!-- <scenegraph geometry="box" #scenegraph></scenegraph> -->
        <!-- <scenegraph geometry="box"></scenegraph> -->
        <app-engine></app-engine>

        <ion-list>
          <ion-item>
            <ion-label slot="start">{{ 'Sitzhöhe' }}</ion-label>
            <ion-label class="ion-text-end">{{ this.getCurrentMeasurements().body_depth ? this.getCurrentMeasurements().body_depth : '--'}}</ion-label>
            <ion-label class="ion-text-end">{{ ' cm' }}</ion-label>
          </ion-item>
          <ion-item>
            <ion-label slot="start">{{ 'Sitztiefe' }}</ion-label>
            <ion-label class="ion-text-end">{{ this.getCurrentMeasurements().body_width ? this.getCurrentMeasurements().body_width : '--'}}</ion-label>
            <ion-label class="ion-text-end">{{ ' cm' }}</ion-label>
          </ion-item>
          <ion-item>
            <ion-label slot="start">{{ 'Sitzbreite' }}</ion-label>
            <ion-label class="ion-text-end">{{ this.getCurrentMeasurements().elbow_height ? this.getCurrentMeasurements().elbow_height : '--'}}</ion-label>
            <ion-label class="ion-text-end">{{ ' cm' }}</ion-label>
          </ion-item>
          <ion-item>
            <ion-label slot="start">{{ 'Lehnenhöhe' }}</ion-label>
            <ion-label class="ion-text-end">{{ this.getCurrentMeasurements().lowerleg_length ? this.getCurrentMeasurements().lowerleg_length : '--'}}
            </ion-label>
            <ion-label class="ion-text-end">{{ ' cm' }}</ion-label>
          </ion-item>
          <ion-item>
            <ion-label slot="start">{{ 'Armlehnenhöhe' }}</ion-label>
            <ion-label class="ion-text-end">{{ this.getCurrentMeasurements().shoulder_height ? this.getCurrentMeasurements().shoulder_height : '--'}}
            </ion-label>
            <ion-label class="ion-text-end">{{ ' cm' }}</ion-label>
          </ion-item>
        </ion-list>
      </div>

      <ion-list *ngIf="this.segment === 'scan'">
        <ion-list lines="full">
          <ion-item>
            <ion-label slot="start">{{ 'Körpertiefe' }}</ion-label>
            <ion-label class="ion-text-end">{{ this.getCurrentMeasurements().body_depth ? this.getCurrentMeasurements().body_depth : '--'}}</ion-label>
            <ion-label class="ion-text-end">{{ ' cm' }}</ion-label>
          </ion-item>
          <ion-item>
            <ion-label slot="start">{{ 'Körperbreite' }}</ion-label>
            <ion-label class="ion-text-end">{{ this.getCurrentMeasurements().body_width ? this.getCurrentMeasurements().body_width : '--'}}</ion-label>
            <ion-label class="ion-text-end">{{ ' cm' }}</ion-label>
          </ion-item>
          <ion-item>
            <ion-label slot="start">{{ 'Ellbogenhöhe' }}</ion-label>
            <ion-label class="ion-text-end">{{ this.getCurrentMeasurements().elbow_height ? this.getCurrentMeasurements().elbow_height : '--'}}</ion-label>
            <ion-label class="ion-text-end">{{ ' cm' }}</ion-label>
          </ion-item>
          <ion-item>
            <ion-label slot="start">{{ 'Unterschenkellänge' }}</ion-label>
            <ion-label class="ion-text-end">{{ this.getCurrentMeasurements().lowerleg_length ? this.getCurrentMeasurements().lowerleg_length : '--'}}
            </ion-label>
            <ion-label class="ion-text-end">{{ ' cm' }}</ion-label>
          </ion-item>
          <ion-item>
            <ion-label slot="start">{{ 'Schulterhöhe' }}</ion-label>
            <ion-label class="ion-text-end">{{ this.getCurrentMeasurements().shoulder_height ? this.getCurrentMeasurements().shoulder_height : '--'}}
            </ion-label>
            <ion-label class="ion-text-end">{{ ' cm' }}</ion-label>
          </ion-item>
          <ion-item>
            <ion-label slot="start">{{ 'Körpergröße' }}</ion-label>
            <ion-label class="ion-text-end">{{ this.getCurrentMeasurements().height ? this.getCurrentMeasurements().height : '--'}}</ion-label>
            <ion-label class="ion-text-end">{{ ' cm' }}</ion-label>
          </ion-item>
        </ion-list>

      </ion-list>

      <ion-button color="secondary" (click)="confirmMeasurements()" expand="block">Bestätigen</ion-button>
      <ion-button color="light" (click)="restartScan()" expand="block">Neustarten</ion-button>

    </ion-col>
  </ion-grid>

</ion-content>